server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=never
server.error.include-exception=false

server.servlet.context-path=/api

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.hibernate.ddl-auto=validate

spring.jmx.enabled=false

vaco.environment=${TIS_ENVIRONMENT:local}
spring.profiles.active=${vaco.environment}

vaco.aws.region=eu-north-1
vaco.s3-processing-bucket=digitraffic-tis-processing-${vaco.environment}
vaco.company-name-claim=biz  # for the curious, this is not a real value

vaco.ui-url=https://digitraffic-tis-${vaco.environment}.aws.fintraffic.cloud/ui/

vaco.scheduling.enable=true
vaco.scheduling.default-poll-rate=500
vaco.scheduling.canonical-gtfs-validation-rule.poll-rate=${vaco.scheduling.default-poll-rate}
vaco.scheduling.errors.poll-rate=${vaco.scheduling.default-poll-rate}
vaco.scheduling.rules-results.poll-rate=${vaco.scheduling.default-poll-rate}
vaco.health.key=${TIS_HEALTH_SHARED_SECRET:ok}

spring.cloud.azure.active-directory.credential.client-id=${vaco.azure-ad.client-id}
#####
# If you want to disable security, flip the commenting on the properties below and change that one false <-> true.
# Reason is that some automagic implicit configuration is based on existence of these properties and there's no other
# way to control it reasonably.
#####
#spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://login.microsoftonline.com/${vaco.azure-ad.tenant-id}/v2.0/keys
spring.security.oauth2.resourceserver.jwt.issuer-uri=https://login.microsoftonline.com/${vaco.azure-ad.tenant-id}/v2.0
spring.cloud.azure.active-directory.enabled=true
